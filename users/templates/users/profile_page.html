<!DOCTYPE html>
<!-- {% load static %} -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INSB-Port-Dashboard</title>
    <link rel="stylesheet" href="">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap');
        body{
            font-family: 'Poppins', sans-serif;
        }
        .navLi{
            color: whitesmoke;
        }
        .navLi:hover{
            color: #FFC107;
            transition: .2s;
        }

        .fb, .twitter, .yt, .insta, .linkedin, .footer_mail{
            color: whitesmoke;
        }
        .fb:hover{
            color: #1977F3;
            transition: .2s;
        }
        .insta:hover{
            color: #F60C52;
            transition: .2s;
        }
        .linkedin:hover{
            color: #0077B5;
            transition: .2s;
        }
        .yt:hover{
            color: #FE0202;
            transition: .2s;
        }
        .twitter:hover{
            color: #1DA1F2;
            transition: .2s;
        }
        .footer_mail:hover{
            color: #FFC936;
            transition: .2s;
        }
        .event{
            scale: 1;
           
        }
        .event:hover{
            scale: 1.01;
            background-color:  rgba(44, 167, 216, .1);
            transition: .2s;
        }

        .photoDiv{
            
        }
        .uploadDiv{
            display: none;
            
        }
        .photoDiv:hover .profileImg{
            opacity: .1;
            transition: .2s all;
        }
        .photoDiv:hover .uploadDiv{
            display: block;
            transition: 1s all;
        }
        .uploadField{
            cursor: pointer;
        }

        .wrapper
{
	padding-bottom: 40px;
}

.divider
{
	position: relative;
	height: 1px;
}

.div-transparent:before
{
	content: "";
	position: absolute;
	top: 0;
	left: 5%;
	right: 5%;
	width: 90%;
	height: 1px;
	background-image: linear-gradient(to right, transparent, rgb(48,49,51), transparent);
}

.div-dot:after
{
	content: "";
	position: absolute;
	z-index: 1;
	top: -9px;
	left: calc(50% - 9px);
	width: 18px;
	height: 18px;
	background-color: #1F8DBC;
	border: 1px solid rgb(48,49,51);
	border-radius: 50%;
	box-shadow: inset 0 0 0 2px white,
					0 0 0 4px white;
}
    </style>

</head>


<body style="background-image: linear-gradient(90deg, #2daadb, #0b1261);" class="">

    <!-- Section for nav-bar -->

    <nav style="background-color: #050D3A;" class="navbar navbar-expand-lg border border-5 border-dark border-opacity-25">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img class="img-fluid" src="https://ieeensusb.org/wp-content/uploads/2021/03/logo.gif" alt="IEEE_logo" width="40" height="40">
            </a> 
          <!-- <a class="navbar-brand" href="#">IEEE</a> -->
          <button class="navbar-toggler bg-warning" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav ms-auto">
              <a class="nav-link navLi" aria-current="page" href="{% url 'users:dashboard' %}">Dashboard</a>
              <a class="nav-link navLi" href="{% url 'insb_central:central_home' %}"><small>Central Branch</small></a>
              <a class="nav-link navLi" href="#"><small>Event & Management</small></a>
              <a class="nav-link navLi" href="#"><small>Logistics</small></a>
              <a class="nav-link navLi" href="#"><small>Content</small></a>
              <a class="nav-link navLi" href="#"><small>Promotion</small></a>
              <a class="nav-link navLi" href="{% url 'membership_development_team:md_team_homepage' %}"><small>Membership Development</small></a>
              <a class="nav-link navLi" href="#"><small>Website development</small></a>
              <a class="nav-link navLi" href="#"><small>Media</small></a>
              <a class="nav-link navLi" href="#"><small>Graphics</small></a>
              <a class="nav-link navLi" href="#"><small>Finance</small></a>
              <a class="nav-link navLi" href="#"><small>Public Relation</small></a>
            </div>
          </div>
        </div>
      </nav>
   
    

                       <!-- section for body & events -->


                       <!-- dashbar and options -->

        <div id="page-content-wrapper">
            <nav class="navbar navbar-expand-lg navbar-light bg-transparent py-4 px-4 mt-6 text-light">
                <div class="d-flex align-items-center">
                    <i class="fas fa-align-left primary-text fs-4 me-3" id="menu-toggle"></i>
                    <h2 class="fs-2 m-0">Profile</h2>
                </div>

                <button  class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span style="color: aliceblue;" class="navbar-toggler-icon navbar-dark"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle second-text fw-bold text-dark border rounded bg-light" href="#" id="navbarDropdown"
                                role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="fas fa-user me-2"></i>Options
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <!-- <li><a class="dropdown-item" href="#">Profile</a></li> -->
                                <li><a class="dropdown-item" href="#">Settings</a></li>
                                <li><a class="dropdown-item" href="{% url 'users:logoutUser' %}">Logout</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </nav>

        </div>

                                 <!-- dashnbar and option ends -->
       

            <div class="container-fluid px-3 px-0 px-md-5">
                <div class="row g-6 my-6 px-0 px-md-5">
                    <div class="col-md-4 mb-3 mb-md-0">
                        <div style="border-radius: 15px;" class="p-3 bg-white shadow-sm d-flex flex-column-reverse border-dark border-opacity-25 h-100">
                            <div class="mb-5 mt-2">
                                <p class="fw-bold">Name: <span class="fw-light ms-2">{{ user_data.name }}</span></p>
                                <p class="fw-bold">IEEE ID: <span class="fw-light ms-2">{{ user_data.ieee_id }}</span></p>
                                <p class="fw-bold">Position: <span class="fw-light ms-2">{{ user_data.position }}</span></p>
                                <p class="fw-bold">Team: <span class="fw-light ms-2">{{ user_data.team }}</span></p>
                                <p class="fw-bold">IEEE Mail: <span class="fw-light ms-2">{{ user_data.ieee_email }}</span></p>
                            </div>
                           <form onsubmit="submit" class="text-center" method="POST" enctype="multipart/form-data" id="picture">
                            {% csrf_token %}
                            <div class="m-auto position-relative photoDiv">
                                <img class="img-fluid rounded rounded-circle m-auto border rounded rounded-circle profileImg" src="{{ user_data.profile_picture }}" alt="profile pic" width="160px" height="160px">
                                <p class="position-absolute bottom-50 w-100 text-center justify-content-center uploadDiv">
                                    <label class="uploadField" for="uploadField">
                                        <i class="fa-solid fa-camera"></i>
                                        Upload Photo
                                    </label>
                                    <input class="d-none" type="file" name="profile_picture" id="uploadField">
                                </p>
                                <p class="text-center mt-3"><input onclick="submit" class="btn btn-success submit btn-sm disabled" type="submit" value="Update" name="change_profile_pic"></p>
                                {% for message in messages %}
                                <p style="color:green;">{{message}}</p>
                                {% endfor %}
                            </div>
                           </form>
                           
                          
                        </div>
                    </div>



                    <div class="col-md-8">
                        <div style="border-radius: 15px;" class="p-3 bg-white">
                            <h3 class="text-center mb-4">Personal Info</h3>
                            <div class="wrapper">
                                <div class="divider div-transparent div-dot"></div>
                            </div>
                            <div class="row px-3">
                                <div class="col-md-6">
                                    <p class="fw-bold">Address: <span class="fw-light ms-2">{{ user_data.home_address }}</span></p>
                                    <p class="fw-bold">Email: <span class="fw-light ms-2">{{ user_data.email_personal }}</span></p>
                                    <p class="fw-bold">Contact Info: <span class="fw-light ms-2">{{ user_data.contact_no }}</span></p>
                                </div>
                                <div class="col-md-6">
                                    <p class="fw-bold">Date of Birth: <span class="fw-light ms-2">{{ user_data.dob }}</span></p>
                                    <p class="fw-bold">Gender: <span class="fw-light ms-2">{{ user_data.gender }}</span></p>
                                    <p class="fw-bold">Major in NSU: <span class="fw-light ms-2">{{ user_data.major }}</span></p>
                                </div>
                            </div>

                            <h3 class="text-center my-4">IEEE Info</h3>
                            <div class="wrapper">
                                <div class="divider div-transparent div-dot"></div>
                            </div>

                            <div class="px-3">
                                <p class="fw-bold">Joining Session: <span class="fw-light ms-2">{{ user_data.joining_session }}</span></p>
                                <p class="fw-bold">Last Renewal: <span class="fw-light ms-2">{{ user_data.last_renewal }}</span></p>
                                {% if active_status %}
                                    <p class="fw-bold">Account Status: <span style="color:green;" class="fw-light ms-2"><b>Active</b></span></p>
                                {% else %}
                                    <p class="fw-bold">Account Status: <span style="color:red;" class="fw-light ms-2"><b>Expired</b></span></p>
                                {% endif %}

                            </div>
                        </div>
                    </div>
                </div>
            </div>
       </div>
   

        <footer class="bg-dark text-white mt-5">
            <div class="container-fluid py-4">

                <div class="row py-3 px-5">
                    <div class="col-md-3 mx-auto">
                        <img class="img-fluid" src="https://ieeensusb.org/wp-content/uploads/2021/03/INSB.png" alt="IEEE_logo">
                    </div>
                    <div class="col-md-3 mx-auto">
                        <h4 class="mb-3 fw-bold">Follow Us</h4>
                        <div>
                            <a href=""><i class="fa-brands fa-2x fa-facebook me-2 fb"></i></a>
                            <a href=""><i class="fa-brands fa-2x fa-instagram me-2 insta"></i></a>
                            <a href=""><i class="fa-brands fa-2x fa-linkedin me-2 linkedin"></i></a>
                            <a href=""><i class="fa-brands fa-2x fa-twitter me-2 twitter"></i></a>
                            <a href=""><i class="fa-brands fa-2x fa-youtube me-2 yt"></i></a>
                        </div>
                    </div>
                    <div class="col-md-3 mx-auto">
                        <h4 class="mb-3 fw-bold">Contact</h4>
                        <div>
                            <a class="text-decoration-none footer_mail" href=""><i class="fa-regular fa-1x text-white me-2 fa-envelope"></i>info@ieeensusb.org</a> <br>
                            <a class="text-decoration-none footer_mail" href=""><i class="fa-regular fa-1x text-white me-2 fa-envelope"></i>contact@ieeensusb.org</a> <br>
                            <a class="footer_mail text-decoration-none" href="https://ieeensusb.org/"><i class="fa-solid me-2 fa-1x fa-globe footer_mail"></i>ieeensusb.org</a>
                        </div>
                    </div>
                </div>
            </div>

            <div style="background-image: linear-gradient(90deg, #2daadb, #0b1261);" class="p-3 text-center">

                © Copyright 2022 INSB – All rights reserved. Developed by <a href="https://ieeensusb.org/web-administrator/" style="color: #FFC936;" class=" fw-bold text-decoration-none">INSB Web Development Team</a>
            </div>

        </footer>

       

   









    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>

    <script>
        let photo = document.getElementById('uploadField')
        
        document.getElementsByClassName('submit')[0].addEventListener('click', () => {
            
            event.preventDefault()
            let file = document.getElementById('uploadField').files[0]
            console.log(Number(file.size/1048576))
            if(Number(file.size/1048576) > 5){
                alert('File size should less than 5mb')
            }
            else{
                // Database Fetching/Uploading process...
                document.getElementById("picture").submit();
                
            }

            
        })

        document.getElementsByClassName('uploadField')[0].addEventListener('click', () => {
             document.getElementsByClassName('submit')[0].classList.remove('disabled')
        })

        

        

    </script>

</body>
</html>