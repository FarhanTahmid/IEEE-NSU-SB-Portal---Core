<!DOCTYPE html>
{% load static %}
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Recruitee Details - {{data.first_name}}</title>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"
        ></script>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
            integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />
        <link rel="stylesheet" href="{% static 'recruitee_details.css' %}" />
    </head>

    <body>
        <main>
            <nav class="navbar navbar-expand-lg">
                <div class="container-fluid">
                    <a class="navbar-brand" href="{% url 'users:dashboard' %}">
                        <img
                            class="img-fluid"
                            src="{% static 'logo.gif' %}"
                            alt="IEEE_logo"
                            width="40"
                            height="40"
                        />
                    </a>
                    <!-- <a class="navbar-brand" href="#">IEEE</a> -->
                    <button
                        class="navbar-toggler bg-warning"
                        type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#navbarNavAltMarkup"
                        aria-controls="navbarNavAltMarkup"
                        aria-expanded="false"
                        aria-label="Toggle navigation"
                    >
                        <span class="navbar-toggler-icon">
                            <i class="fa-solid fa-bars mt-1"></i>
                        </span>
                    </button>
                    <div
                        class="collapse navbar-collapse"
                        id="navbarNavAltMarkup"
                    >
                        <div class="navbar-nav ms-auto">
                            <a class="nav-link navLi" href="{% url 'users:dashboard' %}">Dashboard</a>
                            <a class="nav-link navLi" href="{% url 'membership_development_team:md_team_homepage' %}">Home</a>
                            <a class="nav-link navLi" href="{% url 'membership_development_team:members_list' %}"><small>INSB Members</small></a>
                            <a class="nav-link navL" href="{% url 'recruitment:recruitment_home' %}"><small>Recruitment</small></a>
                            <a class="nav-link navLi" href="{% url 'membership_development_team:membership_renewal' %}"><small>Membership Renewal</small></a>
                            <a class="nav-link navLi" href="{% url 'membership_development_team:data_access' %}"><small>Data Access</small></a>
                        </div>
                    </div>
                </div>
            </nav>
            <!-- header start -->
            <section class="banner">
                <section class="container">
                    <div class="row">
                        <div
                            class="d-flex flex-column justify-content-center h-100"
                        >
                            <h1
                                class="text-center fw-bold mt-3 text-uppercase text-white"
                            >
                                Recruitee Details
                            </h1>
                            <a
                                href="{% url "recruitment:recruitee" session %}"
                                class="col align-self-center btn btn-warning text-black rounded my-2 my-sm-0 mt-lg-3 justify-content-center w-25"
                            >
                                View Recruitment Session</a
                            >
                        </div>

                    
                    <form method="POST">
                        {% csrf_token %}
                        
                        <div class="container p-2 bg-white my-5 rounded">
                            {% comment %} {% for data,recruited_member in data.items %}
                                {% for recruited_member in recruited_member %} {% endcomment %}
                     
                            <div class="p-2 mb-4">
                                <h3
                                    class="bg-light border rounded text-center p-2 text-uppercase mb-4"
                                >
                                    General Details
                                </h3>
                                <div class="px-0 px-md-5">
                                    <div class="row my-3">
                                        <div class="col-md-2 mt-1">NSU ID:</div>
                                        <div class="col-md-8">
                                                <input
                                                class="form-control w-75"
                                                type="number" placeholder="Enter NSU ID" required name="nsu_id" value={{data.nsu_id}}
                                            />
                                        </div>
                                    </div>

                                    <div class="row my-3">
                                        <div class="col-md-2 mt-1">
                                            IEEE ID:
                                        </div>
                                        <div class="col-md-8">
                                            <input
                                                class="form-control w-75"
                                                type="number" placeholder="Enter IEEE ID" name="ieee_id" value={{ data.ieee_id }}
                                            />
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="p-2 mb-4">
                                <h3
                                    class="bg-light border rounded text-center p-2 text-uppercase mb-4"
                                >
                                    Personal Details
                                </h3>
                                <div class="px-0 px-md-5">
                                    <div class="row my-3">
                                        <div class="col-md-6">
                                            <div class="row">
                                                <div class="col-md-4 mt-1">
                                                    First Name:
                                                </div>
                                                <div class="col-md-8">
                                                    <input
                                                        class="form-control w-75"
                                                        type="text" placeholder="Enter First Name" required name="first_name" value="{{ data.first_name }}"
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="row">
                                                <div class="col-md-4 mt-1">
                                                    Middle Name:
                                                </div>
                                                <div class="col-md-8">
                                                    <input
                                                        class="form-control w-75"
                                                        type="text" placeholder="Enter Middle Name"  name="middle_name" value="{{ data.middle_name }}"
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                        
                                        
                                    </div class="row my-3">
                                    <div class="col-md-6">
                                        <div class="row">
                                            <div class="col-md-4 mt-1">
                                                Last Name:
                                            </div>
                                            <div class="col-md-8">
                                                <input
                                                    class="form-control w-75"
                                                    type="text" placeholder="Enter Last Name"  name="last_name" value="{{ data.last_name }}"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                    <div>

                                    </div>

                                    <div class="row my-3">
                                        <div class="col-md-6">
                                            <div class="row">
                                                <div class="col-md-4 mt-1">
                                                    Contact:
                                                </div>
                                                <div class="col-md-8">
                                                    <input
                                                        class="form-control w-75"
                                                        type="text" placeholder="Enter Contact no." required name="contact_no" value="{{ data.contact_no }}"
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="row">
                                                <div class="row">
                                                    <div class="col-md-3 mt-4 mt-md-1">
                                                        Emergency Contact No:
                                                    </div>
                                                    <div class="col-md-9">
                                                        <input
                                                            class="form-control w-75"
                                                            type="text"
                                                            autocomplete="off"
                                                            value="{{ data.emergency_contact_no }}"
                                                            name="emergency_contact_no"
                                                        />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row my-3">
                                        <div class="col-md-2 mt-1">Date of Birth:</div>
                                    
                                                <div class="col-md-4">
                                                    <input
                                                        class="form-control w-50"
                                                        type="date" placeholder="Date of Birth" required name="date_of_birth" value="{{ dob }}"
                                                    />
                                                </div>
                                    </div>


                                    <div class="row my-3">
                                        <div class="col-md-2 mt-1">Email:</div>
                                        <div class="col-md-8">
                                            <input
                                                class="form-control w-75"
                                                type="text" placeholder="Enter E-Mail" name="email_personal" value="{{ data.email_personal }}"
                                            />
                                        </div>
                                    </div>

                                    <div class="row my-3">
                                        <div class="col-md-2 mt-1">NSU Email:</div>
                                        <div class="col-md-8">
                                            <input
                                                class="form-control w-75"
                                                type="text" placeholder="Enter NSU E-Mail" name="email_nsu" value="{{ data.email_nsu }}"
                                            />
                                        </div>
                                    </div>

                                    <div class="row my-3">
                                        <div class="col-md-2 mt-1">
                                            Facebook URL:
                                        </div>
                                        <div class="col-md-8">
                                            <input
                                                class="form-control w-75"
                                                type="text" placeholder="Enter Facebook URL" name="facebook_url" value="{{ data.facebook_url }}"
                                            />
                                        </div>
                                    </div>

                                    <div class="row my-3">
                                        <div class="col-md-2 mt-1">
                                            Address:
                                        </div>
                                        <div class="col-md-8">
                                            <input
                                                class="form-control w-75"
                                                type="text" placeholder="Enter Address" name="home_address" value="{{address}}"
                                                
                                            />
                                        </div>
                                    </div>

                                    <div class="row my-3">
                                        <div class="col-md-2 mt-1">
                                            Gender:
                                        </div>
                                        <div class="col-md-8">
                                            {{data.gender}}
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <div class="p-2 mb-4">
                                <h3
                                    class="bg-light border rounded text-center p-2 text-uppercase mb-4"
                                >
                                    Academic Details
                                </h3>
                                <div class="px-0 px-md-5">
                                    <div class="row my-3">
                                        <div class="col-md-2 mt-1">Major:</div>
                                        <div class="col-md-8">
                                            <input
                                                class="form-control w-75"
                                                type="text" placeholder="Enter Major" required name="major" value="{{ data.major }}"
                                            />
                                        </div>
                                    </div>

                                    <div class="row my-3">
                                        <div class="col-md-2 mt-1">
                                            Graduation Year:
                                        </div>
                                        <div class="col-md-8">
                                            <input
                                                class="form-control w-75"
                                                type="number" placeholder="Enter Graduating Year" required name="graduating_year" value={{ data.graduating_year }}
                                            />
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="p-2 mb-4">
                                <h3
                                    class="bg-light border rounded text-center p-2 text-uppercase mb-4"
                                >
                                    Membership Development Team Details
                                </h3>
                                <div class="px-0 px-md-5">
                                    <div class="row my-3">
                                        <div class="col-md-2 mt-1">
                                            Recruited By:
                                        </div>
                                        <div class="col-md-8">
                                            <input
                                                class="form-control w-75"
                                                type="text" placeholder="Name" required name="recruited_by" value="{{ data.recruited_by }}"
                                            />
                                        </div>
                                    </div>

                                    <div class="row my-3">
                                        <div class="col-md-2 mt-1">
                                            Payment:
                                        </div>
                                        <div class="col-md-8 mt-2 mt-md-0">
                                            
                                            {% if data.cash_payment_status %}
                                            <input
                                                class="form-check-input"
                                                type="checkbox" checked="True" name="cash_payment_status" id="cash_payment"
                                            />
                                            <label class="me-4" for="cash"
                                                >Cash Payment</label
                                            >
                                            {% else %}
                                            <input
                                                class="form-check-input"
                                                type="checkbox" name="cash_payment_status" id="cash_payment"
                                            />
                                            <label class="me-4" for="cash"
                                                >Cash Payment</label
                                            >
                                            {% endif %}
                                            
                                            
                                            
                                            
                                            {% if data.ieee_payment_status %}
                                            <input
                                                class="form-check-input"
                                                type="checkbox" checked="True" name="ieee_payment_status" id="ieee_payment"
                                            />
                                            <label for="ieee"
                                                >IEEE Payment</label
                                            >
                                            {% else %}
                                            <input
                                                class="form-check-input"
                                                type="checkbox" name="ieee_payment_status" id="ieee_payment"
                                            />
                                            <label for="ieee"
                                                >IEEE Payment</label
                                            >
                                            {% endif %}

                                        </div>
                                        <div class="row my-3">
                                            <div class="col-md-2 mt-1">
                                                Comment (MD Team):
                                            </div>
                                            <div class="col-md-8">
                                                <input
                                                    class="form-control w-75 h-100"
                                                    type="text" placeholder="Write a comment if you want" name="comment" value="{{ data.comment }}"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                    

                       
                            <div class="p-2 mb-4 text-center">
                                
                               
                                <input type="submit" class="btn btn-warning mt-3 mt-md-0 " name="save_edit"
                                    value="Save Edits"
                                >
                                
                                {% if data.ieee_payment_status %}
                                <div class="py-3 text-center">
                                    <button
                                        class="btn btn-success"
                                        type="button"
                                        data-bs-toggle="modal"
                                        data-bs-target="#update"
                                        
                                    >
                                        Register Member in INSB Database
                                    </button>
                                </div>
                            
                                {% else %}
                                <div class="py-3 text-center">
                                    <p>Member is not yet Updated in INSB Database. To Update Member to the INSB Database, Please complete the IEEE Payment and Enter IEEE ID and then Update!<p>
                                </div>
                                {% endif %}
                                <div class="py-3 text-center">
                                    {% for message in messages %}
                                        <p class="message">{{message}}</p>
                                    {% endfor %}
                                </div>
                            </div>

                            <div class="p-2 mb-4">
                                
                                <input type="submit"
                                class="btn btn-primary me-3 text-right"  
                                value="Resend Recruitment Confirmation Email"
                                name="resend_email"
                                >
                            </div>

                            <div class="p-2 mb-4">
                                
                                <input type="button"
                                class="btn btn-danger me-3 text-right"
                                data-bs-toggle="modal"
                                data-bs-target="#delete"
                                
                                onlclick="deleteAlert()"
                            
                                value="Delete Recruited Member"
                                >
                            </div>
                        </div>
                        
                    </div>
                </section>
            </section>
        </main>

        <!-- Update Modal -->
        <div
            class="modal fade"
            id="update"
            data-bs-backdrop="static"
            data-bs-keyboard="false"
            tabindex="-1"
            aria-labelledby="staticBackdropLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">
                            Confirmation
                        </h5>
                        <button
                            type="button"
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                        ></button>
                    </div>
                    <div class="modal-body">
                        <h3>Are you sure you want to Register this Member in INSB Database?</h3>
                        <p class="mt-3">
                            This will register the member in the main Database for INSB members.<br>
                            Upon signing up to our Website or App, this member will be able to use its services.
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            data-bs-dismiss="modal"
                        >
                            Close
                        </button>
                        <input
                            type="submit"
                            class="btn btn-success"
                            data-bs-dismiss="modal"
                            name="register_member"
                            value="Register"
                        >
                    </div>
                </div>
            </div>
        </div>

        <!-- Delete Modal -->
        >
        <div
            class="modal fade"
            id="delete"
            data-bs-backdrop="static"
            data-bs-keyboard="false"
            tabindex="-1"
            aria-labelledby="staticBackdropLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">
                            Confirmation
                        </h5>
                        <button
                            type="button"
                            class="btn-close"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                        ></button>
                    </div>
                    <div class="modal-body">
                        <h3>Are you sure you want to Delete?</h3>
                        <p class="mt-3">
                            This will delete all the information for the recruited Member.<br>
                            If this Member is registered in the main database, in order to completely remove this member from INSB Database, you might have to delete this member from there as well.
                        </p>
                    </div>
                    <div class="modal-footer">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            data-bs-dismiss="modal"
                        >
                            Close
                        </button>

                        <input
                            type="submit"
                            class="btn btn-danger"
                            data-bs-dismiss="modal"
                            name="delete_member"
                            value="Delete"
                        >
                    </div>
                </div>
            </div>
        </div>
    </form>

        <footer class="py-3 right-bg text-white text-center">
            <small>&copy; All Rights Reserved by IEEE NSU STUDENT BRANCH</small>
        </footer>
        <!-- footer end -->
    </body>
    
</html>
