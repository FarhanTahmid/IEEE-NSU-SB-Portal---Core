<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>IEEE NSU SB Registered Members | Membership Development Team</title>
  <meta name="description" content="Admin, Dashboard, Bootstrap, Bootstrap 4, Angular, AngularJS" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!-- style -->
  <link rel="icon" href="{% static 'logos/logo.gif' %}"/>
  <link rel="stylesheet" href="{% static '/assets/animate.css/animate.min.css' %}" type="text/css" />
  <link rel="stylesheet" href="{% static '/assets/glyphicons/glyphicons.css' %}" type="text/css" />
  <link rel="stylesheet" href="{% static '/assets/font-awesome/css/font-awesome.min.css' %}" type="text/css" />
  <link rel="stylesheet" href="{% static '/assets/material-design-icons/material-design-icons.css' %}" type="text/css" />


  <link rel="stylesheet" href="{% static '/assets/bootstrap/dist/css/bootstrap.min.css' %}" type="text/css" />
  <!-- build:css ../assets/styles/app.min.css -->
  <link rel="stylesheet" href="{% static '/assets/styles/app.css' %}" type="text/css" />
  <!-- endbuild -->
  <link rel="stylesheet" href="{% static '/assets/styles/font.css' %}" type="text/css" />
  <link rel="stylesheet" href="{% static 'newTable.css' %}" type="text/css" />
  <style>
    body, html {
      
      margin: 0;
      
      align-items: center;
      justify-content: center;
    }
    .row {
      display: flex;
      justify-content: center;
      align-items: center;
      height:100%;
    }
    .btn-container {
      text-align: center;
    }
    
    .btn {
      max-width: 100%;
      width: auto;
      display: inline-block;
      white-space: normal; /* Allow text to wrap within the button */
      word-wrap: break-word; /* Break long words if necessary */
      font-size: 16px; /* Adjust the font size as needed */
    }
    
    /* Media query for smaller screens (adjust the breakpoint as needed) */
    @media (max-width: 768px) {
      .btn {
        width: 100%; /* Make the button full width on smaller screens */
      }
    }
    .nav a.active {
      color: #FFA300;
    }
    .app-header{
      position: sticky;
      margin: 0 0 0 2px;
  }
  .app-header ~ .app-body {
    padding-top: 0rem;
  }
 
  /* Edit button css starts*/
  .button-17 { 
  align-items: center;
  appearance: none;
  background-color: #fff;
  border-radius: 24px;
  border-style: none;
  box-shadow: rgba(0, 0, 0, .2) 0 3px 5px -1px,rgba(0, 0, 0, .14) 0 6px 10px 0,rgba(0, 0, 0, .12) 0 1px 18px 0;
  box-sizing: border-box;
  color: #3c4043;
  cursor: pointer;
  display: inline-flex;
  fill: currentcolor;
  font-family: "Google Sans",Roboto,Arial,sans-serif;
  font-size: 14px;
  font-weight: 500;
  height: 48px;
  justify-content: center;
  letter-spacing: .25px;
  line-height: normal;
  max-width: 100%;
  overflow: visible;
  padding: 2px 24px;
  position: relative;
  text-align: center;
  text-transform: none;
  transition: box-shadow 280ms cubic-bezier(.4, 0, .2, 1),opacity 15ms linear 30ms,transform 270ms cubic-bezier(0, 0, .2, 1) 0ms;
  user-select: none;
  -webkit-user-select: none;
  touch-action: manipulation;
  width: auto;
  will-change: transform,opacity;
  z-index: 0;
}

.button-17:hover {
  background: #F6F9FE;
  color: #174ea6;
}

.button-17:active {
  box-shadow: 0 4px 4px 0 rgb(60 64 67 / 30%), 0 8px 12px 6px rgb(60 64 67 / 15%);
  outline: none;
}

.button-17:focus {
  outline: none;
  border: 2px solid #4285f4;
}

.button-17:not(:disabled) {
  box-shadow: rgba(60, 64, 67, .3) 0 1px 3px 0, rgba(60, 64, 67, .15) 0 4px 8px 3px;
}

.button-17:not(:disabled):hover {
  box-shadow: rgba(60, 64, 67, .3) 0 2px 3px 0, rgba(60, 64, 67, .15) 0 6px 10px 4px;
}

.button-17:not(:disabled):focus {
  box-shadow: rgba(60, 64, 67, .3) 0 1px 3px 0, rgba(60, 64, 67, .15) 0 4px 8px 3px;
}

.button-17:not(:disabled):active {
  box-shadow: rgba(60, 64, 67, .3) 0 4px 4px 0, rgba(60, 64, 67, .15) 0 8px 12px 6px;
}

.button-17:disabled {
  box-shadow: rgba(60, 64, 67, .3) 0 1px 3px 0, rgba(60, 64, 67, .15) 0 4px 8px 3px;
}
/* Edit button css ends*/

/*Edit search bar starts*/
.search-wrapper {
  position: relative;
  width: 100%;
  max-width: 300px;
  margin: 0 auto;
}

/* Search input */
.styled-search {
  width: 100%;
  padding: 10px 15px 10px 40px;
  border: 1px solid #ccc;
  border-radius: 25px;
  font-size: 14px;
  transition: all 0.3s ease;
  outline: none;
}

/* Icon inside input */
.search-icon {
  position: absolute;
  top: 50%;
  left: 12px;
  transform: translateY(-50%);
  color: #999;
  font-size: 16px;
}

/* Focus effect */
.styled-search:focus {
  border-color: #4285f4;
  box-shadow: 0 0 3px rgba(66, 133, 244, 0.5);
}
/*Edit search bar ends*/

/*Edit Drop Down Css starts*/
#maxRows {
  width: 100%;
  max-width: 180px;
  padding: 10px 40px 10px 15px;
  font-size: 14px;
  border: 1px solid #ccc;
  border-radius: 25px;
  appearance: none;
  background-color: #fff;
  background-image: url("data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20width='14'%20height='10'%20viewBox='0%200%2014%2010'%3E%3Cpath%20fill='%23666'%20d='M1%201l6%206%206-6'%3E%3C/path%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 12px center;
  background-size: 12px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  text-align: center;
  height: 40px;
  line-height: 20px;
  box-sizing: border-box;
}
#maxRows:focus {
  outline: none;
  border-color: #4285f4;
  box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.2);
}

/*Edit Drop Down Css Ends*/

/*Edit Paginatioon Starts*/
.pagination {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 6px;
  list-style: none;
  padding: 20px 0;
}

.pagination .page-item {
  display: inline-block;
}

.pagination .page-link {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 8px; /* square-ish with rounded corners */
  background-color: transparent;
  font-size: 14px;
  font-weight: 500;
  color: #00089e;
  border: 1px solid #d0d0d0;
  cursor: pointer;
  transition: all 0.2s ease-in-out;
}

.pagination .page-link:hover {
  background-color: #e6f9f9; /* light tint */
  color: #3300ff;
  border-color: #000397;
}

.pagination .page-item.active .page-link {
  background-color: #0800ff;
  color: #fff;
  border-color: #0019da;
  font-weight: 600;
}

.pagination .page-item.disabled .page-link {
  cursor: default;
  color: #bbb;
  background: transparent;
  border-color: #eee;
}

.pagination .page-ellipsis .page-link {
  background: none;
  cursor: default;
  pointer-events: none;
  font-weight: normal;
  color: #999;
  border: none;
}


/*Edit Paginaiton Ends*/

/*edit table starts*/
/* Modern Responsive Table */
.table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  font-family: 'Segoe UI', sans-serif;
  box-shadow: 0 0 14px rgba(0, 0, 0, 0.05);
  overflow: hidden;
  border-radius: 12px;
}

.table thead {
  background-color: #1f1f1f;
  color: #ffffff;
  text-transform: uppercase;
  font-size: 13px;
  letter-spacing: 0.8px;
}

.table thead th {
  padding: 14px 18px;
  text-align: left;
  white-space: nowrap;
}

.table tbody tr {
  background-color: #ffffff;
  border-bottom: 1px solid #f1f1f1;
  transition: background-color 0.3s ease;
}

.table tbody tr:nth-child(even) {
  background-color: #f9f9f9;
}

.table tbody tr:hover {
  background-color: #e6f4ff;
}

.table tbody td {
  padding: 14px 18px;
  font-size: 14px;
  color: #333;
  word-wrap: break-word;
}

.table a {
  color: #00629B;
  text-decoration: none;
  font-weight: 600;
}

.table a:hover {
  text-decoration: underline;
}

/* Responsive Fixes */
@media (max-width: 768px) {
  .table thead {
    display: none;
  }

  .table, .table tbody, .table tr, .table td {
    display: block;
    width: 100%;
  }

  .table tr {
    margin-bottom: 15px;
    border: 1px solid #ddd;
    border-radius: 10px;
    overflow: hidden;
  }

  .table td {
    text-align: right;
    padding-left: 50%;
    position: relative;
  }

  .table td::before {
    content: attr(data-label);
    position: absolute;
    left: 15px;
    width: 45%;
    padding-right: 10px;
    font-weight: bold;
    text-align: left;
    color: #555;
  }
}


/*edit table ends*/

/*edit modern count starts*/
/* Modern Row Count Style */
/* Modern Row Count Style */
/* Minimal Elegant Entry Counter */
.rows_count.slim-count {
  font-size: 14px;
  font-weight: 400;
  color: #00629B;
  text-align: center;
  margin-top: 10px;
}

.rows_count .count-number {
  font-weight: 600;
  color: #004c78;
}


/*edit modern count ends*/



  </style>
</head>

<body>
  <div class="app" id="app">

<!-- ############ LAYOUT START-->

<!-- aside -->
<div id="aside" class="app-aside modal nav-dropdown">
  
  {% block sidebar %}
    {% include 'users/sidebar.html' %}
  {% endblock %}

</div>
<!-- / -->
  
         <!-- navbar content -->
         <div id="content" class="app-content box-shadow-z0" role="main">
          {% block navbar %}
              {% include 'mdt_navbar.html' %}
          {% endblock navbar %}

      </div>
      <!--navbar content-->

<div ui-view class="app-body" style="justify-content:center; margin-left:15%; margin-right:15%;" id="view">

    <!-- ############ PAGE START-->
    <br>
    <h2 style="justify-content:center;text-align:center;margin-bottom:15px;"> IEEE NSU SB Registered Members List </h2>
    
    <h4 style="justify-content:center;text-align:center;margin-bottom:30px;"> Total Registered Member in System: <span style="color:#00629B;"><b>{{totalNumber}}</b></span> </h4>
    
    <!--Messages-->
    <div style="justify-content:center; text-align:center;">
      {% if messages %}
          {% for message in messages %}
              <h4{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</h4>
          {% endfor %}
        <br>
      {% endif %}
  </div>
  <!--Messages-->
    {% if has_view_permission %}
    <div style="justify-content:center;text-align:center;">  
      <div class="btn-container row">
        {% if is_MDT %}
        <div style="margin-right:5px;">
          <a href="{% url 'membership_development_team:export_excel' %}" class="btn btn-outline b-success text-success">Generate an Excel Sheet of All Registered IEEE NSU SB Members</a>
        </div>
        {% endif %}
        <div>
          <form method="POST">
            {% csrf_token %}
            <input type="submit" name="refresh_member_status" class="button-17" value="Refresh Membership Status of IEEE NSU SB Members"> <!--edit button-->
          </form>          
        </div>
        {% if is_branch %}
        <div style="margin-left:5px;">
          <a href="{% url 'central_branch:user_access' %}" class="button-17">Restrict Users</a> <!--edit button-->
        </div>
        {% endif %}        
        <div style="margin-left:5px;">
          <button type="submit" class="button-17" data-toggle="modal" data-target="#m-s-s" ui-toggle-class="bounce" ui-target="#animate">Add a new type of Skillset</button> <!--edit button-->
        </div>
      </div>
    </div>
    {% endif %}


<div style="justify-content:center;text-align:center; margin-top:30px;">  
    <div class="container" style="justify-content:center;">
      <div class="header_wrap">
        <div class="num_rows">
    
          <div class="form-group">
            <!--		Show Numbers Of Rows 		-->
            <select class="form-control" name="state" id="maxRows">
    
              <option value="10">10</option>
              <option value="15">15</option>
              <option value="20">20</option>
              <option value="50">50</option>
              <option value="5000">ALL</option>
            </select>
    
          </div>
        </div>
        <div class="tb_search"> <!--edit table search-->
          <span class="search-icon"><i class="fa fa-search"></i></span>
          <input type="text" id="search_input_all" onkeyup="FilterkeyWord_all_table()" placeholder="Search..." class="styled-search" />
        </div>
      </div>
      <div class="table-responsive">
        <table class="table table-striped table-class" id="table-id">
      
          <thead>
  <tr>
    <th data-priority="1">SL<br>No.</th>
    <th data-priority="1">IEEE<br>ID</th>
    <th data-priority="1">NSU<br>ID</th>
    <th data-priority="1">Name</th>
    <th data-priority="1">Email</th>
    <th data-priority="1">Current<br>Position</th>
    <th data-priority="1">Current<br>Team</th>
    <th data-priority="1">Blood<br>Group</th>
  </tr>
</thead>
          <tbody>
  {% for member in members %}
    <tr>
      <td>{{ forloop.counter }}</td> <!-- Serial Number -->
      <td style="color:#00629B">
        <a href="{% if has_view_permission %} {% if is_branch %}
          {% url 'central_branch:member_details' member.ieee_id %}
        {% else %}
          {% url 'membership_development_team:member_details' member.ieee_id %}
        {% endif %} {% else %}
          {% url 'main_website:member_profile' member.ieee_id %}
        {% endif %}">
        {{ member.ieee_id }}
        </a>
      </td>
      <td>{{ member.nsu_id }}</td>
      <td>{{ member.name }}</td>
      <td>{{ member.email_ieee }}</td>
      <td>{{ member.position.role }}</td>
      <td>{{ member.team.team_name }}</td>
      <td>{{ member.blood_group }}</td>
      <!--{% if has_view_permission %}-->
      <!--<td>{{ member.contact_no }}</td>-->
      <!--{% endif %}-->
    </tr>
  {% endfor %}
</tbody>

        </table>
      </div>
      <!--		Start Pagination -->
      <div class='pagination-container'>
        <nav>
          <ul class="pagination">
            <!--	Here the JS Function Will Add the Rows -->
          </ul>
        </nav>
      </div>
      <!--Edit Modern Count-->
  <div class="rows_count modern-count">
  <span class="count-prefix">Showing</span>
  <span class="count-range">1</span> <span class="count-to">to</span> <span class="count-range">10</span>
  <span class="count-suffix">of</span> <span class="count-total">518</span> <span class="count-suffix">entries</span>
</div>

    
            
    </div>
  </div>

</div>

<!--Modal for adding member to team-->
<div id="m-s-s" class="modal" data-backdrop="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
          <h5 class="modal-title">Add new Skillset Type</h5>
      </div>
      <div class="modal-body p-lg">
        <p>Do not add multiple Skillset of same type</p>
        <p>Check the existing skillset list before you add new skills.</p>
        <br>
      </div>
     
      <!--Search table-->
      <form method="POST">
          {% csrf_token %}
          
          <div class="md-6 mx-auto form-group">
            <label style="margin-left:15px;">Skillset Type</label>
            <input type="text" name="skillset" placeholder="Skillset Name" required> </input>
          </div>
          
          <div class="col-md-12">
            {% if all_skills %}
            <p style="margin-left:15px;">Existing Slillsets:</p>
              {% for i in all_skills %}
                <span style="display: inline-block; padding: 5px 10px; border-radius: 5px; background-color: #9E9290; color: #333;">{{ i.skill_type }}</span>
              {% endfor %}
          {% endif %}
          </div>
          
          <div class="modal-footer">
          <button type="button" class="btn dark-white p-x-md" data-dismiss="modal">No</button>
      
              <input type="submit" class="btn primary p-x-md" name="add_new_skill" value="Add Skill"></input>  
          </div>
      </form>

    </div><!-- /.modal-content -->
  </div>
</div>
<!--End of Modal-->

<!-- ############ PAGE END-->

    </div>
  </div>
  <!-- / -->

  <!-- theme switcher -->
  <div id="switcher">
    <div class="switcher box-color dark-white text-color" id="sw-theme">
      <a href ui-toggle-class="active" target="#sw-theme" class="box-color dark-white text-color sw-btn">
        <i class="fa fa-gear"></i>
      </a>
      <div class="box-header">
        <h2>Theme Switcher</h2>
      </div>
      <div class="box-divider"></div>
      <div class="box-body">
        <p class="hidden-md-down">
          <label class="md-check m-y-xs"  data-target="folded">
            <input type="checkbox">
            <i class="green"></i>
            <span class="hidden-folded">Folded Aside</span>
          </label>
          
        </p>
        
        <p>Themes:</p>
        <div data-target="bg" class="row no-gutter text-u-c text-center _600 clearfix">
          <label class="p-a col-sm-6 light pointer m-0">
            <input type="radio" name="theme" value="" hidden>
            Light
          </label>
          
          <label class="p-a col-sm-6 dark pointer m-0">
            <input type="radio" name="theme" value="dark" hidden>
            Dark
          </label>
          
        </div>
      </div>
    </div>

    </div>
  </div>
  <!-- / -->

<!-- ############ LAYOUT END-->

  </div>
<!-- build:js scripts/app.html.js -->
<!-- jQuery -->
<script src="{% static 'script/jquery.js'%}"></script>
<!-- Bootstrap -->
  <script src="{% static 'script/tether.min.js'%}"></script>
  <script src="{% static 'script/bootstrap.js'%}"></script>
<!-- core -->
  <script src="{% static 'script/underscore-min.js'%}"></script>
  <script src="{% static 'script/jquery.storageapi.min.js'%}"></script>
  <script src="{% static 'script/pace.min.js'%}"></script>

  {% comment %} <script src="{% static 'script/config.lazyload.js'%}"></script> {% endcomment %}

  <script src="{% static 'script/palette.js'%}"></script>
  <script src="{% static 'script/ui-load.js'%}"></script>
  <script src="{% static 'script/ui-jp.js' %}"></script>
  <script src="{% static 'script/ui-include.js'%}"></script>
  <script src="{% static 'script/ui-device.js'%}"></script>
  <script src="{% static 'script/ui-form.js'%}"></script>
  <script src="{% static 'script/ui-nav.js'%}"></script>
  <script src="{% static 'script/ui-screenfull.js'%}"></script>
  <script src="{% static 'script/ui-scroll-to.js'%}"></script>
  <script src="{% static 'script/ui-toggle-class.js'%}"></script>
  {% comment %} <script src="{% static 'script/screenfull.min.js'%}"></script> {% endcomment %}
  <script src="{% static 'script/app.js'%}"></script>
  <!-- apexcharts -->
  <script src="{% static 'libs/apexcharts/dist/apexcharts.min.js' %}"></script>
  <!-- Chart JS -->
  <script src="{% static 'scripts/chartjs.js' %}"></script>
  <!-- ajax -->
  {% comment %} <script src="{% static 'script/jquery.pjax.js'%}"></script> {% endcomment %}
  <script src="{% static 'script/ajax.js'%}"></script>
  <script> /*Edit pagination*/
    function renderPagination(totalPages, currentPage) {
  const pagination = document.querySelector(".pagination");
  pagination.innerHTML = "";

  function createItem(page, label = null, isActive = false, isDisabled = false, isEllipsis = false) {
    const li = document.createElement("li");
    li.classList.add("page-item");
    if (isActive) li.classList.add("active");
    if (isDisabled) li.classList.add("disabled");
    if (isEllipsis) li.classList.add("page-ellipsis");

    const span = document.createElement("span");
    span.classList.add("page-link");
    span.textContent = label || page;

    if (!isDisabled && !isEllipsis) {
      li.dataset.page = page;
      li.appendChild(span);
      li.addEventListener("click", function () {
        paginateToPage(parseInt(this.dataset.page));
      });
    } else {
      li.appendChild(span);
    }

    pagination.appendChild(li);
  }

  // ← Prev Arrow
  createItem(currentPage - 1, "‹", false, currentPage === 1);

  // First page
  createItem(1, "1", currentPage === 1);

  // Left Ellipsis
  if (currentPage > 4) createItem(null, "...", false, true, true);

  // Middle pages
  for (let i = currentPage - 1; i <= currentPage + 1; i++) {
    if (i > 1 && i < totalPages) {
      createItem(i, i.toString(), i === currentPage);
    }
  }

  // Right Ellipsis
  if (currentPage < totalPages - 3) createItem(null, "...", false, true, true);

  // Last page
  if (totalPages > 1) createItem(totalPages, totalPages.toString(), currentPage === totalPages);

  // → Next Arrow
  createItem(currentPage + 1, "›", false, currentPage === totalPages);
}

function paginateToPage(pageNum) {
  const maxRows = parseInt(document.getElementById("maxRows").value);
  const rows = document.querySelectorAll("#table-id tbody tr");
  const totalRows = rows.length;
  const totalPages = Math.ceil(totalRows / maxRows);
  if (pageNum < 1 || pageNum > totalPages) return;

  rows.forEach((row, index) => {
    row.style.display = (index >= (pageNum - 1) * maxRows && index < pageNum * maxRows) ? "" : "none";
  });

  renderPagination(totalPages, pageNum);
  showig_rows_count(maxRows, pageNum, totalRows);
}

function showig_rows_count(maxRows, pageNum, totalRows) {
  var end_index = maxRows * pageNum;
  var start_index = ((maxRows * pageNum) - maxRows) + 1;
  if (end_index > totalRows) end_index = totalRows;
  var string = 'Showing ' + start_index + ' to ' + end_index + ' of ' + totalRows + ' entries';
  document.querySelector('.rows_count').innerHTML = ` 
  <span class="count-prefix">Showing</span>
  <span class="count-range">${start_index}</span> 
  <span class="count-to">to</span> 
  <span class="count-range">${end_index}</span> 
  <span class="count-suffix">of</span> 
  <span class="count-total">${totalRows}</span> 
  <span class="count-suffix">entries</span>
`; /*edit modern counter*/

}

document.getElementById("maxRows").addEventListener("change", function () {
  paginateToPage(1);
});

window.addEventListener("DOMContentLoaded", () => {
  paginateToPage(1);
});
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
        // Get the current page's URL
        const currentPageUrl = window.location.href;
      
        // Find the links in the navigation bar
        const navLinks = document.querySelectorAll(".nav a");
      
        // Loop through the links and add a "active" class to the matching link
        navLinks.forEach(function (link) {
          if (link.href === currentPageUrl) {
            link.classList.add("active");
          }
        });
      });
  </script>
<!-- endbuild -->
</body>
</html>