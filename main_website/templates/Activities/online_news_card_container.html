{% block online_news %}
{% load static %}
<style>

    {% comment %} .news_card{
        height: 425px;
    } {% endcomment %}

    .card-img-top {
        object-fit: cover;
        height: 250px; /* Set a fixed height for the image */
    }

    .card-title {
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2; /* Show 2 lines of text */
        -webkit-box-orient: vertical;
    }

    .description-container {
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 1;
        -webkit-box-orient: vertical;
    }

    .description-container.collapsed,
    .card-title.collapsed {
        -webkit-line-clamp: unset;
    }
</style>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
    $(document).ready(function () {
        $(".see-more-link").click(function (event) {
            event.preventDefault();

            var cardBody = $(this).closest(".card-body");
            var cardText = cardBody.find(".description-container");
            var cardTitle = cardBody.find(".card-title");
            var card = cardBody.closest(".card");

            cardText.toggleClass("collapsed");
            cardTitle.toggleClass("collapsed");

            // Check if any card text is collapsed
            var isCollapsed = card.find(".description-container.collapsed").length > 0;

            // Set card height based on collapsed state
            card.css("height", isCollapsed ? "auto" : "425px");

            // Change the link text based on collapsed state
            var linkText = isCollapsed ? "See Less" : "See More";
            $(this).text(linkText);
        });
    });
</script>







<section id="content-section-10">
    <div class="gdlr-color-wrapper  gdlr-show-all no-skin"
        style="background-color: #f7f7f7; padding-top: 70px; padding-bottom: 10px; ">
        <div class="container">
            <div
                class="gdlr-item-title-wrapper gdlr-item  gdlr-nav-container gdlr-left gdlr-medium ">
                <div class="gdlr-item-title-container container">
                    <div class="gdlr-item-title-head">
                        <h3 class="gdlr-item-title gdlr-skin-title gdlr-skin-border">Recent News
                        </h3><a class="gdlr-item-title-link" href="#">Read All News</a><span
                            class="gdlr-nav-title"><i class="icon-angle-left gdlr-flex-prev"></i><i
                                class="icon-angle-right gdlr-flex-next"></i></span>
                    </div>
                </div>
            </div>
            <div class="blog-item-wrapper">
                <div class="blog-item-holder">
                    <div class="gdlr-blog-carousel-item gdlr-item">
                        <div class="flexslider" data-type="carousel"
                            data-nav-container="blog-item-wrapper" data-columns="3">
                            <ul class="slides">
                                {% comment %} Dynamic News Starts {% endcomment %}
                                <!-- Repeat the card -->
                                {% for i in newss %}
                                <li class="gdlr-item gdlr-blog-grid gdlr-skin-box">
                                    <div class="card shadow news_card">
                                        <img class="card-img-top" src="/media_files/{{i.award_picture}}" alt="">
                        
                                        <div class="position-absolute">
                                            <span style="background-color: #00629B;" class=" text-white px-3 py-2 rounded h6">{{i.award_winning_year}}</span>
                                        </div>
                        
                                        <div class="card-body">
                                            <h5 class="card-title fw-bold mt-2">{{i.award_name}} - <span style="color:{{i.award_of.primary_color_code}};">{{i.award_of.group_name}}</span></h5>
                                            <div class="description-container">
                                                <p class="card-text">{{i.award_description|safe}}</p>
                                            </div>
                                            <a href="#" class="see-more-link" >See More</a>
                                            <a href="#" style="margin-left:5px;">Read More</a>
                        
                                            
                                        </div>
                                    </div>
                                    <!-- #post -->
                                </li>
                                {% endfor %}
                            </ul>
                            <div class="clear"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="clear"></div>
            <div class="clear"></div>
        </div>
    </div>
    <div class="clear"></div>
</section>
{% endblock online_news %}