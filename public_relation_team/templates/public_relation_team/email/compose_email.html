<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Send Email | Public Relations Team</title>
  <meta name="description" content="Admin, Dashboard, Bootstrap, Bootstrap 4, Angular, AngularJS" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimal-ui" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!-- for ios 7 style, multi-resolution icon of 152x152 -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-barstyle" content="black-translucent">
  <link rel="apple-touch-icon" href="../assets/images/logo.png">
  <meta name="apple-mobile-web-app-title" content="Flatkit">
  <!-- for Chrome on Android, multi-resolution icon of 196x196 -->
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="shortcut icon" sizes="196x196" href="../assets/images/logo.png">
  
  <!-- style -->
  <link rel="icon" href="{% static 'logos/logo.gif' %}"/>
  <link rel="stylesheet" href="{% static '/assets/animate.css/animate.min.css' %}" type="text/css" />
  <link rel="stylesheet" href="{% static '/assets/glyphicons/glyphicons.css' %}" type="text/css" />
  <link rel="stylesheet" href="{% static '/assets/font-awesome/css/font-awesome.min.css' %}" type="text/css" />
  <link rel="stylesheet" href="{% static '/assets/material-design-icons/material-design-icons.css' %}" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  

  <link rel="stylesheet" href="{% static '/assets/bootstrap/dist/css/bootstrap.min.css' %}" type="text/css" />
  <!-- build:css ../assets/styles/app.min.css -->
  <link rel="stylesheet" href="{% static '/assets/styles/app.css' %}" type="text/css" />
  <!-- endbuild -->
  <link rel="stylesheet" href="{% static '/assets/styles/font.css' %}" type="text/css" />

  <!--Internal CSS-->
  <!--Internal CSS End-->
</head>
<body>
  <div class="app" id="app">

<!-- ############ LAYOUT START-->

<!-- aside -->
<div id="aside" class="app-aside modal nav-dropdown">
  	{% block sidebar %}
	    {% include 'users/sidebar.html' %}
  	{% endblock %}
</div>
<!-- / -->
<!-- navbar content -->
<div id="content" class="app-content box-shadow-z0" role="main">
  {% block navbar %}
      {% include 'public_relation_team\public_relation_navbar.html' %}
  {% endblock navbar %}

</div>
<!--navbar content-->
    
<div ui-view class="app-body" id="view" style="justify-content:center;">

<!-- ############ PAGE START-->
    <!--Page Intro Start-->
    <div>
      <br>
      <h2 style="display:flex; justify-content:center;text-align:center;margin-bottom:15px;"> Send Emails Using The Portal System of IEEE NSU Student Branch </h2>
    </div>
    <!--Page Intro End-->

    <!--Instruction Section Start-->
    <div  style="margin-left:15px;">
      <br>
      <!--List Start-->
      <div style="display:flex; flex-direction: column; align-items: center; margin-right:25px;justify-content:center;text-align:justify;">
        <h6 >Go through the Instructions given below before you start:</h6>
        
        <ol>
          <li>The email will be sent with <span style="color:blue;">"ieeensusb.portal@gmail.com"</span> account. This is the central email account for the portal system.</li>
          <li>If you have selected more than 41 recipients, the system will automatically divide them and determine how many emails should be sent to prevent them from being flagged as spam.</li>
          <li>The system will automatically filter out the duplicate emails and will only send one email to the address.</li>
          <li>Scheduled mail will be saved in the Server and will be sent accordingly. Timezone of the server is: GMT +6.00 (Dhaka, Bangladesh).</li>
          <li><b>Branch Ex-Com Members:</b> All EB's from Branch along with all the Chairs from Society, Chapters and Affinity Groups. The email will be sent to their IEEE mail by default. If IEEE mail is not found it will be sent to their NSU Mail.</li>
          <li><b>General Members:</b> All members of IEEE NSU SB registered in the Portal whose memberships are <span style="color:green;"><b>Active</b></span>.Their Emails will be sent to their NSU Email By default.</li>
          <li>To Select multiple options, Press and Hold 'ctrl' and then select the options.</li>
          <li>The system might take some amount of time to send multiple emails, and in attaching the files to the mail body. Please <b>do not Press the Send button Multiple times. It will end up sending multiple emails.</b> Thank you for being patient!</li>
        </ol>
      </div>
      <!--List End-->
    </div>
    <!--Instruction Section End-->

    <!--Email Section Start-->
    <div class="container">
    <div class="padding">
        <div class="row" >
          <div class="col-md-12">
            <div class="box">
              <div class="box-header" style="text-align:center;">
                <h1>Compose Email</h1>
              </div>
               <!--Message section-->
               {% if messages %}

               {% for message in messages %}
                 {% if message.tags == 'success' %}
                   <h4 class="success" style="justify-content:center;text-align:center;margin-bottom:15px;color:green;">{{message}} </h4>
                 {% else %}
                   <h4 class="error" style="justify-content:center;text-align:center;margin-bottom:15px;color:red;">{{message}} </h4>
                 {% endif %}
               {% endfor %}

             {% endif %}
              <div class="box-divider m-0"></div>
              <div class="box-body">
                <form method="POST" autocomplete="off" enctype="multipart/form-data">
                  {% csrf_token %}

                      <div class="form-group row">
                        <label class="col-sm-2 form-control-label">To :</label>
                        <div class="col-sm-10">
                          <input placeholder="For multiple emails, use comma to seperate emails or spaces" type="text" class="form-control" name="email_to"></input>
                        </div>
                      </div>
                      <div class="form-group row">
                        <label class="col-sm-2 form-control-label">Select Email To:</label>
                        <div class="col-lg-4">
                          <select multiple class="form-control" name="to">
                            <option selected value="">--------------------</option>
                            <option value="general_members">All Registered General Members of IEEE NSU SB</option>
                            <option value="all_officers">All Officers of IEEE NSU SB</option>
                            <option value="eb_panel">Executive Panel (Branch Only)</option>
                            <option value="excom_branch">Branch Ex-Com Members</option>
                            <option value="scag_eb">All Society, Chapters, Affinity Group Executive Body Members</option>
                            {% for session in recruitment_sessions %}
                              <option value="recruits_{{session.id}}">Recruits of - {{session.session}} </option>
                            {% endfor %}
                            
                          </select>
                        </div>
                      </div>

                      <div class="form-group row">
                        <label class="col-sm-2 form-control-label">Cc:</label>
                        <div class="col-lg-4">
                          <select multiple class="form-control" name="cc">
                            <option selected value="">--------------------</option>
                            <option value="general_members">All Registered General Members of IEEE NSU SB</option>
                            <option value="all_officers">All Officers of IEEE NSU SB</option>
                            <option value="eb_panel">Executive Panel (Branch Only)</option>
                            <option value="excom_branch">Branch Ex-Com Members</option>
                            <option value="scag_eb">All Society, Chapters, Affinity Group Executive Body Members</option>
                            {% for session in recruitment_sessions %}
                              <option value="recruits_{{session.id}}">Recruits of - {{session.session}} </option>
                            {% endfor %}                          </select>
                        </div>
                      </div>

                      <div class="form-group row">
                        <label class="col-sm-2 form-control-label">Bcc:</label>
                        <div class="col-lg-4">
                          <select multiple class="form-control" name="bcc">
                            <option selected value="">--------------------</option>
                            <option value="general_members">All Registered General Members of IEEE NSU SB</option>
                            <option value="all_officers">All Officers of IEEE NSU SB</option>
                            <option value="eb_panel">Executive Panel (Branch Only)</option>
                            <option value="excom_branch">Branch Ex-Com Members</option>
                            <option value="scag_eb">All Society, Chapters, Affinity Group Executive Body Members</option>
                            {% for session in recruitment_sessions %}
                              <option value="recruits_{{session.id}}">Recruits of - {{session.session}} </option>
                            {% endfor %}
                          </select>
                        </div>
                      </div>

                      <div class="form-group row">
                        <label class="col-sm-2 form-control-label">Subject</label>
                        <div class="col-sm-10">
                          <textarea class="form-control" required rows="3" name="subject"></textarea>
                        </div>
                      </div>

                      <div class="form-group row">
                        <label class="col-sm-2 form-control-label">Body:</label>
                        <div class="col-sm-10">
                          <textarea class="form-control" required rows="20" name="body"></textarea>
                        </div>
                      </div>

                      <div class="form-group row">
                        <label class="col-sm-2 form-control-label">Attachment</label>
                        <div class="col-sm-10">
                          <input type="file" id="myFile" name="attachment" multiple>

                        </div>
                      </div>
                     

                      <div style="text-align: center;">
                        <div class="btn-container">
                          <button type="submit" class="btn btn-outline b-success text-success" data-toggle="modal" data-target="#m-s-a" ui-toggle-class="bounce" ui-target="#animate">Send Email</button>
                          {% if under_maintenance.scheduling_under_maintenance %}
                          {% else %}
                          <button type="submit" class="btn btn-outline b-primary text-primary" data-toggle="modal" data-target="#m-s-d" ui-toggle-class="bounce" ui-target="#animate">Schedule This E-Mail</button>
                          {% endif %}
                      
                        </div>
                      </div>

                      


                      <!--Modal-->
                      <div id="m-s-a" class="modal fade animate" data-backdrop="true">
                        <div class="modal-dialog" id="animate">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title">Warning!</h5>
                            </div>
                            <div class="modal-body text-left p-lg">
                              <p>Are you sure that you want to send this E-mail to all the selected email Addresses?</p> 
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn dark-white p-x-md" data-dismiss="modal">No</button>
                              <input
                              type="submit"
                              class="btn btn-success"
                              data-bs-dismiss="modal"
                              name="send_email"
                              value="Yes, Send"
                              >                        
                            </div>
                          </div><!-- /.modal-content -->
                        </div>
                      </div>
                      <!--Schedule mail modal-->
                      <div id="m-s-d" class="modal fade animate" data-backdrop="true">
                        <div class="modal-dialog" id="animate">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title">Schedule Mail!</h5>
                            </div>
                            <div class="modal-body text-left p-lg">
                              <p>Pick the Date and Time you want to Schedule the mail for:</p>
                              <input type="datetime-local" id="date_time" name="date_time">
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn dark-white p-x-md" data-dismiss="modal">No</button>
                              <input
                              type="submit"
                              class="btn btn-success"
                              data-bs-dismiss="modal"
                              name="send_email"
                              value="Yes, Send"
                              >                        
                            </div>
                          </div><!-- /.modal-content -->
                        </div>
                      </div>
                      <!--Schedule mail modal-->

                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
  </div>
  <!--Email Section End-->

</div>

<!-- ############ PAGE END-->

    </div>
  </div>
  <!-- / -->

  <!-- theme switcher -->
  <div id="switcher">
    <div class="switcher box-color dark-white text-color" id="sw-theme">
      <a href ui-toggle-class="active" target="#sw-theme" class="box-color dark-white text-color sw-btn">
        <i class="fa fa-gear"></i>
      </a>
      <div class="box-header">
        <h2>Theme Switcher</h2>
      </div>
      <div class="box-divider"></div>
      <div class="box-body">
        <p class="hidden-md-down">
          <label class="md-check m-y-xs"  data-target="folded">
            <input type="checkbox">
            <i class="green"></i>
            <span class="hidden-folded">Folded Aside</span>
          </label>
          
        </p>
        
        <p>Themes:</p>
        <div data-target="bg" class="row no-gutter text-u-c text-center _600 clearfix">
          <label class="p-a col-sm-6 light pointer m-0">
            <input type="radio" name="theme" value="" hidden>
            Light
          </label>
          
          <label class="p-a col-sm-6 dark pointer m-0">
            <input type="radio" name="theme" value="dark" hidden>
            Dark
          </label>
          
        </div>
      </div>
    </div>

    </div>
  </div>
  <!-- / -->

<!-- ############ LAYOUT END-->

  </div>
<!-- build:js scripts/app.html.js -->
<!-- jQuery -->
<script src="{% static 'script/jquery.js'%}"></script>
<!-- Bootstrap -->
  <script src="{% static 'script/tether.min.js'%}"></script>
  <script src="{% static 'script/bootstrap.js'%}"></script>
<!-- core -->
  <script src="{% static 'script/underscore-min.js'%}"></script>
  <script src="{% static 'script/jquery.storageapi.min.js'%}"></script>
  <script src="{% static 'script/pace.min.js'%}"></script>

  {% comment %} <script src="{% static 'script/config.lazyload.js'%}"></script> {% endcomment %}

  <script src="{% static 'script/palette.js'%}"></script>
  <script src="{% static 'script/ui-load.js'%}"></script>
  <script src="{% static 'script/ui-jp.js' %}"></script>
  <script src="{% static 'script/ui-include.js'%}"></script>
  <script src="{% static 'script/ui-device.js'%}"></script>
  <script src="{% static 'script/ui-form.js'%}"></script>
  <script src="{% static 'script/ui-nav.js'%}"></script>
  <script src="{% static 'script/ui-screenfull.js'%}"></script>
  <script src="{% static 'script/ui-scroll-to.js'%}"></script>
  <script src="{% static 'script/ui-toggle-class.js'%}"></script>
  {% comment %} <script src="{% static 'script/screenfull.min.js'%}"></script> {% endcomment %}
  <script src="{% static 'script/app.js'%}"></script>
  {% comment %} <script src="{% static 'script/jquery.pjax.js'%}"></script> {% endcomment %}
  <script src="{% static 'script/ajax.js'%}"></script>
<!-- endbuild -->
</body>
</html>
