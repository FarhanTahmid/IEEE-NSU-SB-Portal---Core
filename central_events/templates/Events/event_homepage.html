<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Events | IEEE NSU Student Branch</title>
    <link rel="icon" href="{% static 'logos/logo.gif' %}"/>

    {% block common_css %}
        {% include "common_css.html" %}
    {% endblock common_css %}

    <link rel="stylesheet" href="{% static 'newTable.css' %}" type="text/css" />


    <style>
        body, html {
        
        margin: 0;
        
        align-items: center;
        justify-content: center;
        }

        .row {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        }
        .row {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
          }
          .btn-container {
            text-align: center;
          }
          
          .btn {
            max-width: 100%;
            width: auto;
            display: inline-block;
            white-space: normal; /* Allow text to wrap within the button */
            word-wrap: break-word; /* Break long words if necessary */
            font-size: 16px; /* Adjust the font size as needed */
          }
          
          /* Media query for smaller screens (adjust the breakpoint as needed) */
          @media (max-width: 768px) {
            .btn {
              width: 100%; /* Make the button full width on smaller screens */
            }
          }
        
    </style>
</head>
<body>
    <!-- ############ LAYOUT START-->
    <div class="app" id="app">

        <!-- aside -->
        <div id="aside" class="app-aside modal nav-dropdown">
  
  	        {% block sidebar %}
	            {% include 'users/sidebar.html' %}
  	        {% endblock %}
  
        </div>
        <!-- aside end -->
  
        <!-- navbar content -->
        
          <div id="content" class="app-content box-shadow-z0" role="main">
            {% if is_branch %}
              {% block navbar %}
                  {% include 'navbar.html' %}
              {% endblock navbar %}
            {% else %}
              {% block sc_ag_navbar %}
                {% include 'sc_ag_navbar.html' %}
              {% endblock sc_ag_navbar %}
            {% endif %}
          </div>
        
        

        <!--navbar content-->
        
        <!-- ############ PAGE START-->
        <div ui-view class="app-body" style="justify-content:center; margin-left:15%; margin-right:15%;" id="view">


            <br>
            {% if is_branch %}
            <h2 style="justify-content:center;text-align:center;margin-bottom:15px;"> Welcome to the <span><b>Events</b></span> of <span style="color:#00629B;">IEEE NSU Student Branch</b></span></h2>
            {% else %}
            <h2 style="justify-content:center;text-align:center;margin-bottom:15px;"> Welcome to the <span><b>Events</b></span> of <span style="color:#00629B;">{{sc_ag_info.group_name}}</b></span></h2>
            {% endif %}

            {% if has_access_to_create_event %}
              <div style="justify-content:center;text-align:center;"> 
                {% for message in messages %}
                <p>{{message}}</p>
                {% endfor %} 
                <div class="btn-container">
                  {% if is_branch %}
                  <a href="{% url 'central_branch:super_event_creation' %}" class="btn btn-outline b-success text-success">Create a New Super Event</a>
                  <a href="{% url 'central_branch:event_creation_form1' %}" class="btn btn-outline b-primary text-primary">Create a New Event</a>
                  {% else %}
                  <a href="{% url 'chapters_and_affinity_group:super_event_creation' sc_ag_info.primary %}" class="btn btn-outline b-success text-success">Create a New Super Event</a>
                  <a href="{% url 'chapters_and_affinity_group:event_creation_form1' sc_ag_info.primary %}" class="btn btn-outline b-primary text-primary">Create a New Event</a>
                  {% endif %}
                  <button type="button" class="btn btn-outline-success buttons" data-toggle="modal" data-target="#EventTypeModal">Create a New Event Type</button>
                </div>
              </div> 
            {% endif %}
             

            <!--Events Table-->
            <br>
            <div style="text-align:center; margin-top=30px;">  
                <div class="container" style="justify-content:center;">
                  <div class="header_wrap">
                    <div class="num_rows">
                
                      <div class="form-group">
                        <!--		Show Numbers Of Rows 		-->
                        <select class="form-control" name="state" id="maxRows">
                
                          <option value="10">10</option>
                          <option value="15">15</option>
                          <option value="20">20</option>
                          <option value="50">50</option>
                          <option value="5000">Show ALL Rows</option>
                        </select>
                
                      </div>
                    </div>
                    <div class="tb_search">
                      <input type="text" id="search_input_all" onkeyup="FilterkeyWord_all_table()" placeholder="Search.." class="form-control">
                    </div>
                  </div>
                  <div class="table-responsive">
                    <table class="table table-striped table-class" id="table-id">
                  
                      <thead>
                        <tr>
                            <th>Event Name</th>
                            <th>Event Organiser</th>
                            <th>Date of Event</th>
                            
                        </tr>
                      </thead>
                      <tbody>
                        {% for event in events %}
                        <tr>
                          {% if has_access_to_edit_event %}
                            {% if is_branch %}
                            <td><a style="color:blue;" href="{% url 'central_branch:event_dashboard' event.id %}">{{event.event_name }}</a></td>
                            {% else %}
                            <td><a style="color:blue;" href="{% url 'chapters_and_affinity_group:event_dashboard' sc_ag_info.primary event.id %}">{{event.event_name }}</a></td>
                            {% endif %}
                          {% else %}
                            {% if is_branch %}
                              <td>{{event.event_name }}</td>
                              {% else %}
                              <td>{{event.event_name }}</td>
                              {% endif %}
                          {% endif %}
                              
                            <td>{{ event.event_organiser.group_name }}</td>
                            <td>{{ event.event_date }}</td>
                            
                        </tr>
                        {% endfor %}
                        
                      <tbody>
                    </table>
                  </div>
                  <!--		Start Pagination -->
                  <div class='pagination-container'>
                    <nav>
                      <ul class="pagination">
                        <!--	Here the JS Function Will Add the Rows -->
                      </ul>
                    </nav>
                  </div>
                  <div class="rows_count">Showing 11 to 20 of 91 entries</div>    
                        
                </div>
              </div>

              <!--Events table end-->
            
        </div>
        <!--PAGE END-->

        <!--Theme Switcher-->

        {% block theme_switcher %}
            {% include "theme_switcher.html" %}
        {% endblock theme_switcher %}
    
    </div>


    <div class="modal fade" id="EventTypeModal" tabindex="-1" role="dialog" aria-labelledby="EventTypeModalLabel" aria-hidden="true">
        
      <div class="modal-dialog" role="document">
          <div class="modal-content">
              <div class="modal-header">
                  <h5 class="modal-title" id="addModalLabel">Add Event Type</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                  </button>
              </div>
              <div class="modal-body">
                <form method="POST">
                  {% csrf_token %}
                
                <label for="label">Event Type:</label>
                <input type="text" id="label" name="event_type">
              </div>
              <div class="modal-footer">
                <input type="submit" class="btn btn-outline-success txt-success buttons" name="add_event_type" value="Add">
                <button  class="btn btn-outline-danger" data-dismiss="modal">Cancel</button>

              </div>
            </form>
          </div>
      </div>
  </div>
    <!-- app end-->

    {% block common_js %}
        {% include "common_js.html" %}
    {% endblock common_js %}

    <script src="{% static 'table_search.js'%}"></script>

</body>
</html>
