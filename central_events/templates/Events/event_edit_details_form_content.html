{% load static %}
{% block event_details_form %}
    <div class="container">
        <div class="padding">
            <div class="row" >
                <div class="col-sm-10">
                    <div class="box">
                        <div class="box-header" style="text-align:center;">
                            <h1>Update Event Details</h1>
                        </div>
                        <!--Error Message-->
                        <div class="py-3 text-center">
                            {% for message in messages %}
                                <p style="color:red" class="message">{{message}}</p>
                            {% endfor %}
                        </div>
                        <form method="POST">
                            {% csrf_token %}
                            <div class="box-body">
                                <div class="form-group">
                                    <label>Event Name <span style="color:red">*<span></label> 
                                    <input
                                        placeholder="Event Name"
                                        class="form-control w-75"
                                        type="text"
                                        autocomplete="off"
                                        required
                                        name="event_name"
                                        value="{{event_name}}" 
                                    />
                                        
                                </div>
                                <br>
                                <div class="form-group">
                                    {{form.media}}
                                    {{form.as_p}}
                                </div>
                                <br>
                                <div class="form-group">
                                    <label>Super Event of</label>    
                                    <select multiple class="form-control" name="super_event">
                                        <option value="null" {% if super_event.id is none %}selected{% endif %}>--------------------</option>
                                        {% for super_event in super_events %}
                                            <option value="{{ super_event.id }}" {% if super_event.id and super_event.id == selectedSuperEventId %}selected{% endif %}>
                                                {{ super_event.super_event_name }}
                                            </option>
                                        {% endfor %}
                                    </select>
                                </div>
                                
                                <br>
                                <div class="form-group">
                                    <label>Select Event Type</label>
                                    <select multiple class="form-control" name="event_type" required>
                                        <option value="null" {% if event_type.id is none %}selected{% endif %}>--------------------</option>
                                        {% for event_type in event_types %}
                                            <option value="{{ event_type.id }}" {% if event_type.id and event_type.id == selectedEventTypeId %}selected{% endif %}>
                                                {{ event_type.event_category }}
                                            </option>
                                        {% endfor %}
                                    </select>
                                </div>
                                
                                <br>
                                <div class="form-group">
                                    <label for="exampleInputPassword3">Add a date for the Event</label>
                                    <input
                                        placeholder="Event Date"
                                        name="event_date"
                                        type="date"
                                        class="form-control w-75"
                                        value="{{event_date}}"
                                    />
                                </div>
                                <br>  
                                <div class="form-group">
                                    <label>Inter Branch Collaboration With: (Press CTRL to select multiple options) </label>
                                    <select multiple class="form-control" name="inter_branch_collaboration">
                                        <option value="null" {% if inter_branch_collaboration_option.primary is none %}selected{% endif %}>--------------------</option>
                                        {% for inter_branch_collaboration_option in inter_branch_collaboration_options %}
                                            <option value="{{ inter_branch_collaboration_option.primary }}" {% if inter_branch_collaboration_option.primary and inter_branch_collaboration_option.primary == selectedCollaborationOption %}selected{% endif %}>
                                                {{ inter_branch_collaboration_option.group_name }}
                                            </option>
                                        {% endfor %}
                                    </select>
                                </div>
                                
                                <br>
                                <div class="form-group">
                                    <label>Intra Branch Collaboration With: <span style="color:red">*<span></label>
                                    <input
                                        placeholder="Name of the Branches/Organizations"
                                        class="form-control w-75"
                                        type="text"
                                        name="intra_branch_collaboration"
                                        value="{{event_intra_branch_collaboration}}"
                                    />
                                </div>
                                <br>
                                <div class="form-group">
                                    <label>Select Probable Venues For the Event: (Press CTRL to select multiple options)</label>
                                    <select multiple class="form-control" name="event_venues">
                                        <option value="null" {% if selectedVenueId is none %}selected{% endif %}>--------------------</option>
                                        {% for venue in venues %}
                                            <option value="{{ venue.id }}" {% if selectedVenueId and venue.id == selectedVenueId %}selected{% endif %}>
                                                {{ venue.venue_name }}
                                            </option>
                                        {% endfor %}
                                    </select>
                                </div>
                                
                                <br>
                                <div class="form-group">
                                    <label>Select Permission Criterias For the Event: (Press CTRL to select multiple options) <span style="color:red">*</span></label>
                                    <select multiple class="form-control" name="permission_criteria">
                                        <option value="null" {% if selectedPermissionId is none %}selected{% endif %}>----------</option>
                                        {% for permission in permission_criterias %}
                                            <option value="{{ permission.id }}" {% if selectedPermissionId and permission.id == selectedPermissionId %}selected{% endif %}>
                                                {{ permission.permission_name }}
                                            </option>
                                        {% endfor %}
                                    </select>
                                </div>
                                
                                <br>
                                <div style="text-align: center;">
                                    {% if is_branch %}
                                    <a href="{% url 'central_branch:event_control' %}" class="btn btn-outline b-danger text-danger">Cancel</a>
                                    {% else %}
                                    <a href="{% url 'chapters_and_affinity_group:event_control_homepage' sc_ag_info.primary %}" class="btn btn-outline b-danger text-danger">Cancel</a>
                                    {% endif %}
                                    <input type="submit" name="next" class="btn btn-outline b-success text-success" value="Update Changes">
                                </div>
                                <br> 
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>


{% endblock event_details_form %}